let pageLoadWrap=document.querySelector(".load-lines"),pageLoadLines=pageLoadWrap.querySelectorAll(".line");document.querySelector(".app").classList.contains("is-home")?gsap.set(pageLoadWrap,{display:"none"}):(gsap.to(pageLoadLines,{y:"100vh",duration:1,delay:.1,overwrite:!0,ease:"expo.out",onComplete(){initAll(),gsap.set(pageLoadWrap,{display:"none"})},stagger:{amount:.1,from:"random"}}),gsap.from(".page",{scale:.92,duration:.9,delay:.1})),document.addEventListener("DOMContentLoaded",function(){let e=function e(t,a){let o=[];for(let n=0;n<t.length;n+=a)o.push(Array.from(t).slice(n,n+a));return o}(pageLoadLines,5);document.querySelectorAll("a").forEach(t=>{t.addEventListener("click",function(t){if(this.classList.contains("menu_link")){let a=document.querySelector(".menu_wrap"),o=a.querySelectorAll("[data-menu-fade]"),n=a.querySelectorAll("[data-menu-low]");t.preventDefault();let r=this.getAttribute("href"),i=gsap.timeline({defaults:{ease:"power3.out",duration:.6,onComplete(){window.location=r}}});i.to(".menu_link h2",{y:"100%",stagger:{each:.05,from:"end"}}).to(".navbar_inner",{y:"-150%"},0).to([o,n],{y:"50%",opacity:0,stagger:{each:.05,from:"end"},duration:.6},0).to(".lines-wrapper.is-menu",{y:"110%",duration:.6},0)}else if(this.hostname===window.location.hostname&&!this.href.includes("#")&&"_blank"!==this.target){t.preventDefault();let l=this.getAttribute("href"),s=gsap.timeline({defaults:{ease:"expo.out",duration:1}}),d=gsap.timeline();e.forEach((e,t)=>{d.to(e,{y:"0vh",duration:.8,ease:"power4.out",stagger:{amount:.1,from:"random"}},.15*t)}),s.set(pageLoadWrap,{display:"flex"}).to(".page",{scale:.92,duration:.9,delay:.1},0).to(pageLoadLines,{y:"0vh",duration:.8,ease:"power4.out",stagger:{amount:.6,from:"start"},onStart(){e.forEach(e=>{e.forEach(e=>{gsap.set(e,{y:`${gsap.utils.random(100,125)}vh`})})})},onComplete(){window.location=l}},0)}})}),window.addEventListener("pageshow",function(e){e.persisted&&window.location.reload()})});
