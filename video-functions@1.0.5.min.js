document.addEventListener("DOMContentLoaded",(()=>{let e=window.innerWidth,t=document.querySelector(".page").getAttribute("data-page");const r=Array.from(document.querySelectorAll(".plyr__video-embed")),o=new Map;"work"===t?e>991&&(r.forEach((e=>{const t=new Plyr(e,{controls:["play","progress","current-time","mute","fullscreen"],vimeo:{referrerPolicy:"no-referrer"}});o.set(e,t)})),window.plyrInstancesMap=o):"case"===t?(r.forEach((e=>{const t=new Plyr(e,{controls:["play","progress","current-time","mute","fullscreen"],vimeo:{referrerPolicy:"no-referrer"},fullscreen:{enabled:!0,iosNative:!0}});o.set(e,t)})),window.plyrInstancesMap=o):(r.forEach((e=>{const t=new Plyr(e,{controls:["play","progress","current-time","mute","fullscreen"],vimeo:{referrerPolicy:"no-referrer"}});o.set(e,t)})),window.plyrInstancesMap=o);e>=480&&((()=>{let e=5,t=null;function r(t){if(window<=479)return;const r=t.currentTarget,l=r.querySelector(".bd_item-info"),a=r.querySelector(".hover-preview__img"),i=r.querySelector(".vid-wrap"),n=r.querySelector(".plyr.plyr--full-ui.plyr--video.plyr--vimeo"),s=o.get(n);e++,gsap.timeline({defaults:{ease:"expo.out",duration:.8}}).to(r,{scaleX:1.4,scaleY:1.15,zIndex:e}).to(l,{scaleX:.714,scaleY:.869},0).to(i,{scaleX:1,scaleY:1.15},0).to(a,{autoAlpha:0,scaleX:1,duration:.4,onStart:()=>{s.muted=!0,s.volume=0,s.play()}},0)}function l(e){const t=e.currentTarget,r=t.querySelector(".bd_item-info"),l=t.querySelector(".hover-preview__img"),a=t.querySelector(".vid-wrap"),i=t.querySelector(".plyr.plyr--full-ui.plyr--video.plyr--vimeo"),n=o.get(i);gsap.timeline({defaults:{ease:"expo.out",duration:.8}}).to([t,r,a],{scaleX:1,scaleY:1,onStart:()=>{n.pause(),n.volume=1}}).to(l,{scaleX:1.2,autoAlpha:1,duration:.2,overwrite:!0},0)}gsap.timeline({defaults:{ease:"expo.out",duration:.8},onComplete:()=>t=null}),document.querySelectorAll("[data-hover-scale]").forEach((e=>{e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",l)})),gsap.utils.toArray('[data-preview="full-bleed"]').forEach(((e,t)=>{let r=e.querySelector('[data-preview="img"]'),l=e.querySelector('[data-preview="icon"]'),a=e.querySelector('[data-preview="gradient"]');const i=e.querySelector(".plyr.plyr--full-ui.plyr--video.plyr--vimeo"),n=o.get(i);e.addEventListener("mouseenter",(()=>{const e=gsap.timeline({paused:!0,defaults:{ease:"power3.inOut",duration:.6}});e.to(a,{opacity:0}).fromTo(l,{scale:0,rotate:-90},{scale:1,rotate:0,ease:"expo.out"},0).to(r,{opacity:0,ease:"ease",onStart:()=>{n.muted=!0,n.volume=0,n.play()}},0),e.play()})),e.addEventListener("mouseleave",(()=>{const e=gsap.timeline({paused:!0,defaults:{ease:"power3.inOut",duration:.6,overwrite:!0}});e.to(a,{opacity:1}).to(l,{scale:0,rotate:-90,ease:"expo.out"},0).to(r,{opacity:1,ease:"ease",duration:.2,onComplete:()=>{n.pause(),n.currentTime=0,n.volume=1}},0),e.play()}))}))})(),(()=>{let e=document.querySelectorAll(".three-col_item");e.length>0&&(e[0].classList.add("is--active"),e.forEach((e=>{e.addEventListener("mouseenter",(()=>{const t=e.querySelector(".bg-img"),r=e.querySelector(".plyr.plyr--full-ui.plyr--video.plyr--vimeo"),l=o.get(r);l&&(l.muted=!0,l.volume=0,l.play()),gsap.to(t,{opacity:0,duration:.2,delay:.7}),document.querySelectorAll(".three-col_item").forEach((e=>{e.classList.remove("is--active")})),e.classList.add("is--active")})),e.addEventListener("mouseleave",(()=>{const t=e.querySelector(".plyr.plyr--full-ui.plyr--video.plyr--vimeo"),r=o.get(t),l=e.querySelector(".bg-img");r&&!r.paused&&r.pause(),gsap.to(l,{opacity:1,duration:.1,overwrite:!0})}))})))})())}));
